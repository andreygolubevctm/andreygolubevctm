#resultsPage {
  a.dialogPop {
    text-decoration: underline;
    .small;
    color: #000;
    font-family: @font-family-base;
  }

}

#results-sidebar {
  // need to remove this columns padding so we can apply left margin to all result-rows.
  padding-right: 0;
  .sidebar-widget-contained {
    box-shadow: 2px 3px 3px @main-bg-colour;
  }
}

.resultInsert {

  .utility-bar-blank {
    padding: 5px;
  }
  .restrictedFund {
    cursor: help;
    background-color: #EDEDED;
    padding: 5px;
    color: #8A8A8A;
    text-align: center;
  }
  .remove-result {
    position: absolute;
    top: 2px;
    right: 0;
    padding: 5px;
    color: #ccc;
    cursor: pointer;
    & .icon:hover {
      color: #555;
    }
  }

  // only apply a height in results so the rows stay all the same height.
  .productSummary {
    height: 140px;
    @media (@sm-only) {
      height: 150px;
    }
    @media (@md-only) {
      height: 165px;
    }
    @media (@lg-only) {
      height: 175px;
    }
    overflow: hidden;
  }

  // override core to give greater gap.
  .btn-block + .btn-block {
    margin-top: 10px;
  }
  // pretend to make the download brochures btn-block a btn-small.
  @media (@xs-sm-only) {
    .btn-download.btn-block {
      padding: 5px 4px;
      font-size: 12px;
    }
  }
}

//outside as the tooltip is appended to the DOM
@media (@xs-sm-only) {
  .brochuresTooltip {
    .brochureRow {
      text-align: center;
      margin: 5px 0;
    }
  }
}

/*---
title:   Features: Design
section: Results v4
---

The design file contains the design for the features mode in terms of:
 * background
 * borders
 * font sizes, colors
 * margin, padding

The purpose of abstracting these styles from the scaffolding is because different verticals may want to implement different styles. Separating the rules will make it easier to know what to leave and what to change/override and reduce the amount of duplicated CSS when trying to override a specific rule.
*/
@dark-blue-stroke: darken(@theme-tertiary, 20%);
@subfeature-border-color: #C0C9DE;
@dulled-color: #8A8A8A;
.featuresMode {

  .health-icon {
    vertical-align: top;
    font-size: 30px;
    margin-right: 5px;
  }

  // The actual results container, to the right of the feature labels.
  .resultsOverflow {

    .result-row {
      @media (@xs-only) {
        margin-right: 15px;
      }
      @media (@sm) {
        margin-left: 15px;
      }
    }
  }

  // Each product column is a result-row, floated left so they fit beside each other.
  .result-row {

    // .result is just the top section.
    .result {
      border: 1px solid @results-border-color;
      background: @feature-bg-color;
      box-shadow: 2px 3px 3px #cfcfcf;
    }

    // .cell is used as parent wrapper as .category is re-used on non-cell divs.
    .cell {

      &.category { //.cell.category
        > .labelInColumn {
          display: block;
          .content {
            line-height: 30px;
            padding: 5px 10px;
          }
        }
        .content {
          border-right: 1px solid @results-border-color;
          sup {
            color: #A90000;
            font-family: @font-family-theme-bold;
          }
          &.noCover {
            background-color: #EDEDED;
            color: @dulled-color;
            cursor: not-allowed;
            .expander {
              // this makes the expander invisible until its opened.
              color: #EDEDED;
            }
          }
        }

        &.expanded {
          border-bottom: 1px solid @theme-tertiary;
          .category { //.cell.category.expanded

            > .content {
              background-color: @theme-tertiary;
              color: #fff;
              sup {
                color: #fff;
              }
              border-left-color: @theme-tertiary;
              border-top: none;
              border-bottom: 2px solid @dark-blue-stroke;
              border-right: 1px solid @theme-tertiary;
            }
          }
        }
      }

      &.expandable {

        &.category .children { // sub-features
          margin-left: 10px;
          position: relative;

          .content {
            border-left-color: @subfeature-border-color;
            border-right: 1px solid @subfeature-border-color;
            border-bottom: 1px solid @subfeature-border-color;
            background-color: #DDE1EB;
          }
          // remove border bottom on last cell in children
          .cell:last-child .content {
            border-bottom: none;
          }
          &:before {
            content: '';
            position: absolute;
            top: 0;
            left: -9px;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 0 10px 10px 0;
            border-color: transparent @dark-blue-stroke transparent transparent;
          }
        }
      }
    }
  }

  .content {
    font-size: @results-font-size;
    border-top: 1px solid @results-border-color;
    padding: @results-column-side-padding-width;
    text-align: left;
    // Content of certain feature cells. This needs to be relative so the expander icon inside can be absolutely positioned.
    position: relative;
  }

  .children .content {
    //border-top: 0;
    color: #000;
  }

  .extraText {
    display: none;
  }

  // Content is internals of .feature/.category/.section
  .content {
    background: @feature-bg-color;
    .transition(background-color 0.5s);
    border-left: 1px solid @results-border-color;
  }

  /**
   * Styles for the section headers: Hospital Selections, Extras Selections, Ambulence
   */
  .featuresList {

    vertical-align: middle;
    #results-step & {
      margin-top: 20px;
    }

    > .section, > .category {
      border-bottom: 1px solid @results-border-color;

      // Find the first descendant to get the title row.
      > .content {
        font-size: @font-size-h3;
        font-weight: bold;

        border-top: none;
        border-left: none;
        border-bottom: 3px solid @gray-dark;
        // border-bottom-color overridden by vertical
        padding-bottom: 0;
        // These rows won't need an expander icon
        > .icon.expander {
          display: none;
        }
      }
    }
  }

  // Override styles for the excess section and hospital cover.
  .hospitalSelectionsExcessContainer {
    background-color: #fff;
    .hospitalExcessSectionBorder {
      border: 1px solid @results-border-color;
      border-bottom: none;
    }
    h5 {
      padding: 10px;
      margin: 0;
    }
    .featuresListExcess {
      .content {
        border-left: none;
        border-top: none;
      }
    }

    .yourSelectionsHospital {
      position: relative;
      .restrictedBenefit {
        .small;
        position: absolute;
        top: 14px;
        right: 10px;
        color: @dulled-color;
      }
    }
  }

}